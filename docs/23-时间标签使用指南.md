# 时间标签使用指南

## 概述

首页新增了三个时间区域：
1. **春季/夏季/秋季/冬季最佳** - 根据当前季节显示推荐内容
2. **一月/二月/.../十二月最佳** - 根据当前月份显示推荐内容
3. **本周最佳** - 根据当前周数显示推荐内容

这些区域会根据当前时间动态显示相关文章，引导用户查看适合当前时间的指南。

## 工作原理

系统通过文章的 `tags` 字段来筛选内容，支持以下标签格式：

### 季节标签
- `season-spring` - 春季（3-5月）
- `season-summer` - 夏季（6-8月）
- `season-autumn` - 秋季（9-11月）
- `season-winter` - 冬季（12-2月）

### 月份标签
- `month-january` - 一月
- `month-february` - 二月
- `month-march` - 三月
- `month-april` - 四月
- `month-may` - 五月
- `month-june` - 六月
- `month-july` - 七月
- `month-august` - 八月
- `month-september` - 九月
- `month-october` - 十月
- `month-november` - 十一月
- `month-december` - 十二月

### 周数标签
- `week-1` 到 `week-52` - 一年中的第几周

## 如何使用

### 1. 为文章添加时间标签

在数据库或管理后台编辑文章时，在 `tags` 字段中添加相应的时间标签。

**示例JSON格式：**
```json
["season-summer", "month-july", "week-28", "travel", "japan"]
```

**示例逗号分隔格式：**
```
season-summer,month-july,week-28,travel,japan
```

### 2. 标签使用建议

#### 季节标签使用场景
- **旅游类文章**：最适合某个季节去某个地方
  - `Best Time to Visit Japan` → `["season-spring", "season-autumn"]`
  - `Best Time to Visit Hawaii` → `["season-winter", "season-spring"]`

- **购物类文章**：季节性促销
  - `Best Time to Buy Winter Clothes` → `["season-summer"]`（夏季购买）
  - `Best Time to Buy Air Conditioner` → `["season-winter", "season-spring"]`

#### 月份标签使用场景
- **节日相关文章**：
  - `Best Time to Buy Christmas Gifts` → `["month-november", "month-december"]`
  - `Best Time to Post Valentine's Content` → `["month-january", "month-february"]`

- **特定月份活动**：
  - `Best Time to File Taxes` → `["month-january", "month-february", "month-march", "month-april"]`

#### 周数标签使用场景
- **短期活动**：
  - `Best Time to Buy Black Friday Deals` → `["week-47", "week-48"]`（感恩节前后）
  - `Best Time to Watch Meteor Showers` → `["week-31"]`（英仙座流星雨）

### 3. 组合使用示例

#### 示例1：日本旅游指南
```json
[
  "season-spring",    // 春季樱花季
  "season-autumn",    // 秋季红叶季
  "month-march",      // 3月樱花开始
  "month-april",      // 4月樱花盛放
  "month-november",   // 11月红叶季
  "week-12",          // 3月底4月初
  "week-13",          // 4月中
  "week-46",          // 11月中
  "week-47",          // 11月底
  "travel",
  "japan"
]
```

#### 示例2：社交媒体发布时间
```json
[
  "season-summer",      // 夏季用户活跃度高
  "season-winter",      // 冬季假期多
  "month-december",     // 12月假期多
  "month-july",         // 7月暑假
  "week-51",            // 圣诞周
  "week-52",            // 新年周
  "social-media",
  "instagram"
]
```

#### 示例3：健康补充剂
```json
[
  "month-january",      // 新年健身计划
  "season-spring",      // 春季准备夏季
  "month-june",         // 夏季健身季
  "health",
  "fitness",
  "supplements"
]
```

## 文章筛选逻辑

系统会按照以下优先级筛选文章：

1. **主要排序**：按浏览量（viewCount）降序
2. **次要排序**：按发布时间（publishedAt）降序
3. **显示数量**：每个区域显示4篇文章

## 缓存机制

每个时间区域都有独立的缓存：
- **缓存时长**：1小时
- **缓存键**：基于当前时间（季节/月份/周数）
- **自动失效**：时间变化时自动更新缓存

## 无内容时的显示

如果某个时间区域没有匹配的文章，会显示：
- 季节区域："暂无春季推荐内容"
- 月份区域："暂无一月推荐内容"
- 周数区域："暂无本周推荐内容"

## 最佳实践

1. **精准标记**：只添加真正相关的时间标签，避免滥用
2. **多时间点**：对于适合多个时间的文章，添加多个时间标签
3. **内容匹配**：确保文章内容确实适合标记的时间点
4. **定期审查**：定期检查和更新文章的时间标签
5. **数据分析**：关注哪些时间标签的文章受欢迎，优化标签策略

## 技术实现

相关文件：
- `lib/time-based-posts.ts` - 时间标签查询逻辑
- `app/page.tsx` - 首页时间区域展示

核心函数：
- `getBestPostsForCurrentSeason()` - 获取当前季节最佳文章
- `getBestPostsForCurrentMonth()` - 获取当前月份最佳文章
- `getBestPostsForCurrentWeek()` - 获取本周最佳文章
- `getCurrentTimeInfo()` - 获取当前时间信息

## 未来扩展建议

1. **南半球支持**：添加南半球季节判断
2. **时区支持**：根据用户时区显示不同时间
3. **自定义时间**：允许用户选择特定时间范围
4. **历史数据**：查看过去某个时间的最佳推荐
5. **预测功能**：基于历史数据预测未来最佳时间
