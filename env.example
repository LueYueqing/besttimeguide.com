# ============================================
# 数据库配置 (PostgreSQL - Neon)
# ============================================
# ⚠️ 重要：这是示例文件，实际配置请使用 .env.local
# 复制此文件为 .env.local 并填入实际的连接信息

# Prisma 使用的连接字符串
# 推荐使用带连接池的连接字符串（适用于大多数场景，包括应用运行和 seed 脚本）
# 格式: postgresql://用户名:密码@主机:端口/数据库名?sslmode=require
DATABASE_URL="postgresql://neondb_owner:npg_F26QfAiLDYJS@ep-rough-unit-a40frcro-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require"

# 对于需要非连接池连接的场景（如 Prisma 迁移）
# 如果迁移时遇到连接问题，可以临时使用这个
# DATABASE_URL_UNPOOLED="postgresql://neondb_owner:npg_F26QfAiLDYJS@ep-rough-unit-a40frcro.us-east-1.aws.neon.tech/neondb?sslmode=require"

# ============================================
# NextAuth 配置
# ============================================
# NextAuth 密钥（用于加密 JWT token）
# 生成命令: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
NEXTAUTH_SECRET=your-nextauth-secret-key-change-this-in-production

# NextAuth URL
# 开发环境: http://localhost:3000
# 生产环境: https://yourdomain.com
NEXTAUTH_URL=http://localhost:3000

# ============================================
# Google OAuth 配置
# ============================================
# 需要在 Google Cloud Console 创建 OAuth 2.0 客户端 ID
# https://console.cloud.google.com/apis/credentials
#
# 配置步骤：
# 1. 访问 https://console.cloud.google.com/apis/credentials
# 2. 创建 OAuth 2.0 客户端 ID（应用类型：Web 应用）
# 3. 配置已授权的重定向 URI：
#    - 开发环境: http://localhost:3000/api/auth/callback/google
#    - 生产环境: https://yourdomain.com/api/auth/callback/google
# 4. 复制客户端 ID 和客户端密钥到下方
#
# ⚠️ 重要提示：
# - 应用处于测试模式时，只有添加到"测试用户"列表的用户才能登录
# - 如需公开使用，需要在 OAuth 同意屏幕提交审核
# - 客户端密钥在创建后只能查看一次，请妥善保存
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ============================================
# 开发模式登录配置（仅开发环境）
# ============================================
# 启用开发模式登录（无需Google OAuth，用于本地调试）
# 设置 ENABLE_DEV_LOGIN=true 后，可以使用以下账号登录：
# 邮箱: dev@example.com
# 密码: dev123
# ⚠️ 警告: 仅在开发环境使用，生产环境会自动禁用
ENABLE_DEV_LOGIN=true

# ============================================
# Stripe 支付配置
# ============================================
# 1. 注册 Stripe 账号: https://stripe.com
# 2. 获取 API 密钥: https://dashboard.stripe.com/apikeys
# 3. 创建产品和价格: https://dashboard.stripe.com/products
# 4. 配置 Webhook: https://dashboard.stripe.com/webhooks

# Stripe 密钥（测试环境使用 sk_test_...，生产环境使用 sk_live_...）
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Stripe Webhook 密钥（用于验证 webhook 请求）
# 在 Stripe Dashboard > Webhooks > 添加端点后获取
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe 价格 ID（需要在 Stripe Dashboard 创建产品和价格后获取）
# 创建步骤：
# 1. 访问 https://dashboard.stripe.com/products
# 2. 点击 "Add product" 创建产品
# 3. 为每个产品创建月付和年付价格
# 4. 复制价格 ID（格式: price_xxxxxxxxxxxxx）
STRIPE_PRICE_PRO_MONTHLY=price_pro_monthly_id
STRIPE_PRICE_PRO_ANNUAL=price_pro_annual_id
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_enterprise_monthly_id
STRIPE_PRICE_ENTERPRISE_ANNUAL=price_enterprise_annual_id

# ============================================
# AI 配置（DeepSeek / OpenAI）
# ============================================
# DeepSeek API Key（推荐，性价比更高）
# 获取方式：https://platform.deepseek.com/api_keys
# ⚠️ 重要：请妥善保管 API Key，不要泄露
DEEPSEEK_API_KEY=sk-your-deepseek-api-key

# OpenAI API Key（可选，如果使用 OpenAI）
# 获取方式：https://platform.openai.com/api-keys
# 如果同时配置了 DEEPSEEK_API_KEY 和 OPENAI_API_KEY，优先使用 DeepSeek
OPENAI_API_KEY=sk-your-openai-api-key

# ============================================
# 应用配置
# ============================================
# 应用名称
NEXT_PUBLIC_APP_NAME=Your App Name

# 应用 URL（用于支付成功/取消后的重定向）
# 开发环境: http://localhost:3000
# 生产环境: https://yourdomain.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# 应用描述
NEXT_PUBLIC_APP_DESCRIPTION=Your app description

# ============================================
# Cloudflare R2 配置（用于图片存储）
# ============================================
# 1. 在 Cloudflare Dashboard 创建 R2 Bucket
# 2. 创建 API Token: https://dash.cloudflare.com/profile/api-tokens
# 3. 权限需要包括：Object Read & Write
# 4. 获取 Account ID: https://dash.cloudflare.com/ (右侧栏)
#
# Account ID（在 Cloudflare Dashboard 右侧栏可以看到）
CLOUDFLARE_ACCOUNT_ID=your-account-id
#
# R2 Access Key ID（在 API Tokens 页面创建）
CLOUDFLARE_R2_ACCESS_KEY_ID=your-access-key-id
#
# R2 Secret Access Key（创建 Token 时生成，只显示一次）
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your-secret-access-key
#
# R2 Bucket 名称（默认：besttimeguide）
CLOUDFLARE_R2_BUCKET_NAME=besttimeguide
#
# R2 公共访问 URL（可选，如果配置了自定义域名）
# 格式：https://your-custom-domain.com 或 https://your-bucket.r2.dev
# CLOUDFLARE_R2_PUBLIC_URL=https://your-custom-domain.com

# ============================================
# 页面重新生成配置（可选）
# ============================================
# 用于保护 revalidate API 的密钥
# 生成命令: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# REVALIDATE_SECRET=your-revalidate-secret-key

# ============================================
# 图片域名配置（可选）
# ============================================
# 如果使用外部 CDN 或图片服务，在此配置允许的域名
# NEXT_PUBLIC_IMAGE_DOMAIN=cdn.example.com,images.example.com

