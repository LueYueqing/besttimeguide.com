# æŠ€æœ¯æ¶æ„ä¸ä»£ç è§„èŒƒ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„ï¼ˆNext.js 15ï¼‰

### æ ‡å‡†ç›®å½•ç»“æ„
```
project-root/
â”œâ”€â”€ app/                          # Next.js 15 App Router
â”‚   â”œâ”€â”€ (user)/                  # ç”¨æˆ·è·¯ç”±ç»„
â”‚   â”‚   â””â”€â”€ login/              # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ admin/                   # ç®¡ç†åå°
â”‚   â”‚   â”œâ”€â”€ dashboard/          # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ tools/              # å·¥å…·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ users/              # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â””â”€â”€ gsc/                # GSCæ•°æ®åˆ†æ
â”‚   â”œâ”€â”€ api/                     # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth/               # è®¤è¯ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ tools/              # å·¥å…·ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ users/              # ç”¨æˆ·ç›¸å…³
â”‚   â”‚   â””â”€â”€ gsc/                # Google Search Console
â”‚   â”œâ”€â”€ [tool-name]/            # å·¥å…·é¡µé¢ï¼ˆåŠ¨æ€è·¯ç”±ï¼‰
â”‚   â”œâ”€â”€ layout.tsx              # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx                # é¦–é¡µ
â”‚   â”œâ”€â”€ globals.css             # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ sitemap.ts              # ç«™ç‚¹åœ°å›¾ç”Ÿæˆ
â”‚
â”œâ”€â”€ components/                  # Reactç»„ä»¶
â”‚   â”œâ”€â”€ ToolPageLayout.tsx      # å·¥å…·é¡µé¢æ ‡å‡†å¸ƒå±€ â­
â”‚   â”œâ”€â”€ Header.tsx              # é¡µå¤´
â”‚   â”œâ”€â”€ Footer.tsx              # é¡µè„š
â”‚   â”œâ”€â”€ ToolCard.tsx            # å·¥å…·å¡ç‰‡
â”‚   â””â”€â”€ ui/                     # UIåŸºç¡€ç»„ä»¶
â”‚
â”œâ”€â”€ lib/                         # å·¥å…·å‡½æ•°å’Œé…ç½®
â”‚   â”œâ”€â”€ db.ts                   # æ•°æ®åº“è¿æ¥ï¼ˆPrismaï¼‰
â”‚   â”œâ”€â”€ auth.ts                 # è®¤è¯å·¥å…·
â”‚   â”œâ”€â”€ config.ts               # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ apiClient.ts            # APIå®¢æˆ·ç«¯
â”‚   â””â”€â”€ utils/                  # é€šç”¨å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ prisma/                      # Prisma ORM
â”‚   â”œâ”€â”€ schema.prisma           # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ seed.ts                 # æ•°æ®å¡«å……è„šæœ¬
â”‚   â””â”€â”€ migrations/             # æ•°æ®åº“è¿ç§»
â”‚
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/                 # å›¾ç‰‡
â”‚   â”œâ”€â”€ icons/                  # å›¾æ ‡
â”‚   â””â”€â”€ robots.txt              # çˆ¬è™«é…ç½®
â”‚
â”œâ”€â”€ types/                       # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ database.ts             # æ•°æ®åº“ç±»å‹
â”‚   â””â”€â”€ tool.ts                 # å·¥å…·ç±»å‹
â”‚
â”œâ”€â”€ docs/                        # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ API.md                  # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ DATABASE.md             # æ•°æ®åº“æ–‡æ¡£
â”‚   â””â”€â”€ DEPLOYMENT.md           # éƒ¨ç½²æ–‡æ¡£
â”‚
â”œâ”€â”€ automation-tools/            # è‡ªåŠ¨åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ backlink-publisher/     # å¤–é“¾å‘å¸ƒ
â”‚   â”œâ”€â”€ comment-template-generator/ # è¯„è®ºæ¨¡æ¿
â”‚   â””â”€â”€ seo-analyzer/           # SEOåˆ†æ
â”‚
â”œâ”€â”€ scripts/                     # Node.jsè„šæœ¬
â”‚   â”œâ”€â”€ generate-sitemap.js     # ç”Ÿæˆç«™ç‚¹åœ°å›¾
â”‚   â””â”€â”€ sync-tools.js           # åŒæ­¥å·¥å…·æ•°æ®
â”‚
â”œâ”€â”€ .env.local                   # ç¯å¢ƒå˜é‡ï¼ˆæœ¬åœ°ï¼‰
â”œâ”€â”€ .env.production              # ç¯å¢ƒå˜é‡ï¼ˆç”Ÿäº§ï¼‰
â”œâ”€â”€ .gitignore                   # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ next.config.ts               # Next.jsé…ç½®
â”œâ”€â”€ package.json                 # ä¾èµ–ç®¡ç†
â”œâ”€â”€ tsconfig.json                # TypeScripté…ç½®
â”œâ”€â”€ tailwind.config.js           # Tailwindé…ç½®
â””â”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
```

## ğŸ“¦ æ ¸å¿ƒæŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
```json
{
  "next": "^15.5.3",
  "react": "19.1.0",
  "react-dom": "19.1.0"
}
```

### UIæ¡†æ¶å’Œæ ·å¼
```json
{
  "tailwindcss": "^3.4.0",
  "autoprefixer": "^10.4.16",
  "postcss": "^8.4.31",
  "@heroicons/react": "^2.2.0",
  "lucide-react": "^0.544.0"
}
```

#### ğŸ¨ ç²¾é€‰ Tailwind UI ç»„ä»¶åº“

**âœ¨ ç‚«é…·ç‰¹æ•ˆå…š**
- **21st.dev** - æå…‰èƒŒæ™¯ï¼Œè§†è§‰å†²å‡»åŠ›æ‹‰æ»¡ [21st.dev](https://21st.dev)
- **React Bits** - èƒŒæ™¯åŠ¨ç”»åº“ï¼Œè®©é¡µé¢æ´»èµ·æ¥ [reactbits.dev](https://reactbits.dev)
- **Aceternity UI** - ç»„ä»¶ç‚«åˆ°é£èµ· [ui.aceternity.com](https://ui.aceternity.com)
- **Magic UI** - é«˜çº§åŠ¨ç”»ç»„ä»¶ [magicui.design](https://magicui.design)

**ğŸ“¦ å®ç”¨æ¨¡æ¿æ´¾**
- **Float UI** - å¼€ç®±å³ç”¨çš„æ¨¡æ¿ [floatui.com](https://floatui.com)
- **Page UI** - ç›´æ¥å¥—ç”¨çš„é¡µé¢æ¨¡æ¿ [pageui.dev](https://pageui.dev)
- **HyperUI** - æµ·é‡ç»„ä»¶ä»»ä½ æŒ‘ [www.hyperui.dev](https://www.hyperui.dev)
- **EasyFrontend** - ç²¾é€‰ç»„ä»¶åº“ [easyfrontend.com](https://easyfrontend.com)

**ğŸ¯ æ•ˆç‡å·¥å…·ç±»**
- **bg.ibelick** - èƒŒæ™¯è‰²å¿«é€Ÿé€‰æ‹©ï¼Œè®¾è®¡å¸ˆå¿…å¤‡ [bg.ibelick.com](https://bg.ibelick.com)
- **Tailwind Components** - ç¤¾åŒºç»„ä»¶å®åº“ [tailwindcomponents.com](https://tailwindcomponents.com)
- **Material Tailwind** - Material Design é£æ ¼ [www.material-tailwind.com](https://www.material-tailwind.com)

**ä½¿ç”¨å»ºè®®**ï¼š
- **é¡¹ç›®åˆæœŸ**ï¼šä½¿ç”¨ Float UI / Page UI å¿«é€Ÿæ­å»ºåŸºç¡€é¡µé¢
- **ç‰¹æ•ˆéœ€æ±‚**ï¼šé€‰æ‹© 21st.dev / React Bits æ·»åŠ è§†è§‰å†²å‡»åŠ›
- **æ—¥å¸¸å¼€å‘**ï¼šTailwind Components ä½œä¸ºç»„ä»¶å‚è€ƒåº“
- **è®¾è®¡ç³»ç»Ÿ**ï¼šMaterial Tailwind æä¾›å®Œæ•´çš„è®¾è®¡è§„èŒƒ
- **çœæ—¶æŠ€å·§**ï¼šè¿™äº›åº“å¯ä»¥å¸®ä½ çœä¸‹å‡ åå°æ—¶çš„å¼€å‘æ—¶é—´ï¼Œè®©é¡¹ç›®é¢œå€¼ç¿»å€ ğŸš€

### æ•°æ®åº“å’ŒORM
```json
{
  "@prisma/client": "^6.13.0",
  "prisma": "^6.13.0"
}
```

### è®¤è¯å’Œå®‰å…¨
```json
{
  "jsonwebtoken": "^9.0.2",
  "bcrypt": "^5.1.1"
}
```

### ç¬¬ä¸‰æ–¹æœåŠ¡
```json
{
  "googleapis": "^162.0.0",    // Google APIs
  "axios": "^1.12.2",          // HTTPå®¢æˆ·ç«¯
  "cheerio": "^1.1.2",         // HTMLè§£æ
  "qrcode": "^1.5.4"           // äºŒç»´ç ç”Ÿæˆ
}
```

### å¼€å‘å·¥å…·
```json
{
  "typescript": "^5",
  "eslint": "9.33.0",
  "eslint-config-next": "15.4.6"
}
```

## ğŸ”§ é…ç½®æ–‡ä»¶

### next.config.ts
```typescript
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  // å›¾ç‰‡ä¼˜åŒ–é…ç½®
  images: {
    domains: [
      'your-oss-domain.aliyuncs.com',
      'localhost'
    ],
    formats: ['image/webp', 'image/avif']
  },
  
  // ç¯å¢ƒå˜é‡
  env: {
    NEXT_PUBLIC_APP_NAME: 'Your App Name',
    NEXT_PUBLIC_APP_URL: process.env.NEXT_PUBLIC_APP_URL
  },
  
  // æ€§èƒ½ä¼˜åŒ–
  compress: true,
  poweredByHeader: false,
  
  // è¾“å‡ºé…ç½®
  output: 'standalone', // Dockeréƒ¨ç½²
  
  // å®éªŒæ€§åŠŸèƒ½
  experimental: {
    optimizeCss: true,
    cpus: 1 // é™åˆ¶CPUä½¿ç”¨
  }
}

export default nextConfig
```

### tsconfig.json
```json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"],
      "@/components/*": ["./components/*"],
      "@/lib/*": ["./lib/*"],
      "@/types/*": ["./types/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
```

### tailwind.config.js
```javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './pages/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
    './app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        // æ ¹æ®é¡¹ç›®éœ€æ±‚å®šä¹‰é¢œè‰²ä½“ç³»
        // å»ºè®®ä½¿ç”¨è¯­ä¹‰åŒ–å‘½åï¼Œé¿å…å…·ä½“é¢œè‰²å€¼
        brand: {
          DEFAULT: 'your-brand-color',
          light: 'your-brand-light',
          dark: 'your-brand-dark',
        },
        text: {
          primary: 'your-primary-text',
          secondary: 'your-secondary-text',
          tertiary: 'your-tertiary-text',
          muted: 'your-muted-text',
          'on-dark': 'your-text-on-dark',
        },
        background: {
          page: 'your-page-background',
          content: 'your-content-background',
          card: 'your-card-background',
        },
        border: {
          light: 'your-light-border',
          medium: 'your-medium-border',
          dark: 'your-dark-border',
        },
        status: {
          success: 'your-success-color',
          warning: 'your-warning-color',
          error: 'your-error-color',
          info: 'your-info-color',
        },
      },
      animation: {
        'spin-slow': 'spin 3s linear infinite',
      }
    },
  },
  plugins: [],
}
```

## ğŸ¨ ç»Ÿä¸€é¢œè‰²ä½“ç³»è§„èŒƒ

### ä¸ºä»€ä¹ˆéœ€è¦é¢œè‰²ä½“ç³»ï¼Ÿ

åŸºäºå¤šä¸ªé¡¹ç›®çš„å®æˆ˜ç»éªŒï¼Œæˆ‘ä»¬å‘ç°é¢œè‰²ç®¡ç†æ˜¯å‰ç«¯å¼€å‘ä¸­æœ€å®¹æ˜“å‡ºé—®é¢˜çš„ç¯èŠ‚ï¼š

- **ä¸ä¸€è‡´æ€§**ï¼šä¸åŒé¡µé¢ä½¿ç”¨ä¸åŒçš„é¢œè‰²å€¼
- **ç»´æŠ¤å›°éš¾**ï¼šä¿®æ”¹é¢œè‰²éœ€è¦æœç´¢æ›¿æ¢å¤šä¸ªæ–‡ä»¶
- **å¯è®¿é—®æ€§é—®é¢˜**ï¼šé¢œè‰²å¯¹æ¯”åº¦ä¸è¾¾æ ‡
- **ä¸»é¢˜åˆ‡æ¢å›°éš¾**ï¼šæ— æ³•æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜
- **å›¢é˜Ÿåä½œé—®é¢˜**ï¼šç¼ºä¹ç»Ÿä¸€çš„é¢œè‰²æ ‡å‡†

### é¢œè‰²ä½“ç³»è®¾è®¡åŸåˆ™

#### 1. åˆ†å±‚è®¾è®¡
```javascript
// å»ºè®®çš„é¢œè‰²ä½“ç³»ç»“æ„
export const ColorSystem = {
  // ä¸»è‰²è°ƒå±‚ - å“ç‰Œè‰²ç³»
  primary: {
    brand: 'your-brand-color',
    brandLight: 'lighter-variant',
    brandDark: 'darker-variant',
  },

  // æ–‡å­—é¢œè‰²å±‚ - æ ¹æ®é‡è¦æ€§åˆ†å±‚
  text: {
    primary: 'main-text-color',
    secondary: 'secondary-text-color',
    tertiary: 'tertiary-text-color',
    muted: 'muted-text-color',
    onDark: 'text-on-dark-background',
    onLight: 'text-on-light-background',
    link: 'link-color',
    linkHover: 'link-hover-color',
  },

  // èƒŒæ™¯é¢œè‰²å±‚ - ä¸åŒç”¨é€”çš„èƒŒæ™¯
  background: {
    page: 'main-page-background',
    content: 'content-area-background',
    card: 'card-background',
    section: 'section-background',
    overlay: 'overlay-background',
  },

  // è¾¹æ¡†é¢œè‰²å±‚ - ä¸åŒå¼ºåº¦çš„è¾¹æ¡†
  border: {
    light: 'subtle-border',
    medium: 'medium-border',
    dark: 'strong-border',
    accent: 'accent-border',
  },

  // çŠ¶æ€é¢œè‰²å±‚ - è¯­ä¹‰åŒ–çŠ¶æ€è‰²
  status: {
    success: 'success-color',
    warning: 'warning-color',
    error: 'error-color',
    info: 'info-color',
  },

  // ç‰¹æ®Šæ•ˆæœå±‚ - é˜´å½±ã€å‘å…‰ç­‰
  effects: {
    shadow: 'shadow-color',
    glow: 'glow-color',
    overlay: 'overlay-color',
  },
};
```

#### 2. è¯­ä¹‰åŒ–å‘½å
```javascript
// âœ… å¥½çš„å‘½å - è¯­ä¹‰åŒ–
text: { primary, secondary, tertiary }
background: { page, content, card }
border: { light, medium, dark }

// âŒ ä¸å¥½çš„å‘½å - å…·ä½“é¢œè‰²å€¼
colors: { gray500, blue600, red400 }
```

#### 3. ä¸»é¢˜æ”¯æŒ
```javascript
// æ”¯æŒä¸»é¢˜åˆ‡æ¢
export function getColor(property, theme = 'light') {
  return theme === 'light' 
    ? ColorSystem.light[property]
    : ColorSystem.dark[property];
}
```

### è¾…åŠ©å‡½æ•°è®¾è®¡

#### 1. æ–‡å­—æ ·å¼å‡½æ•°
```javascript
// æ ¹æ®ç±»å‹å’Œä¸»é¢˜è‡ªåŠ¨ç”Ÿæˆæ–‡å­—æ ·å¼
export function getTextStyle(type = 'body', theme = 'light') {
  return {
    color: getColor('text.primary', theme),
    fontSize: getFontSize(type),
    fontWeight: getFontWeight(type),
    lineHeight: getLineHeight(type),
  };
}
```

#### 2. ç»„ä»¶æ ·å¼å‡½æ•°
```javascript
// ç»Ÿä¸€çš„ç»„ä»¶æ ·å¼
export function getCardStyle(theme = 'light') {
  return {
    backgroundColor: getColor('background.card', theme),
    border: `1px solid ${getColor('border.light', theme)}`,
    borderRadius: '10px',
    padding: '20px',
  };
}
```

### å®ç°æ­¥éª¤

#### 1. é¡¹ç›®å¯åŠ¨æ—¶
```bash
# åˆ›å»ºé¢œè‰²ä½“ç³»æ–‡ä»¶
mkdir -p config
touch config/colorSystem.js
```

#### 2. å®šä¹‰é¢œè‰²ä½“ç³»
```javascript
// config/colorSystem.js
// æ ¹æ®é¡¹ç›®éœ€æ±‚å®šä¹‰å…·ä½“çš„é¢œè‰²å€¼
export const ColorSystem = {
  // ä½ çš„é¡¹ç›®ç‰¹å®šé¢œè‰²å®šä¹‰
};
```

#### 3. åˆ›å»ºè¾…åŠ©å‡½æ•°
```javascript
// config/colorSystem.js
export function getTextStyle(type, theme) {
  // å®ç°æ–‡å­—æ ·å¼é€»è¾‘
}

export function getCardStyle(theme) {
  // å®ç°å¡ç‰‡æ ·å¼é€»è¾‘
}
```

#### 4. é›†æˆåˆ°é¡¹ç›®ä¸­
```javascript
// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
import { getTextStyle, getCardStyle } from '../config/colorSystem';

function MyComponent() {
  return (
    <div style={getCardStyle('light')}>
      <h1 style={getTextStyle('heading', 'light')}>æ ‡é¢˜</h1>
    </div>
  );
}
```

### æœ€ä½³å®è·µ

#### 1. å‘½åè§„èŒƒ
- ä½¿ç”¨è¯­ä¹‰åŒ–åç§°ï¼Œä¸è¦ä½¿ç”¨å…·ä½“é¢œè‰²å€¼
- æŒ‰åŠŸèƒ½åˆ†ç»„ï¼ˆtext, background, borderç­‰ï¼‰
- ä½¿ç”¨ä¸€è‡´çš„å‘½åæ¨¡å¼

#### 2. é¢œè‰²é€‰æ‹©åŸåˆ™
- ç¡®ä¿è¶³å¤Ÿçš„å¯¹æ¯”åº¦ï¼ˆWCAG AAæ ‡å‡†ï¼‰
- è€ƒè™‘è‰²ç›²ç”¨æˆ·çš„ä½“éªŒ
- æ”¯æŒæ·±è‰²å’Œæµ…è‰²ä¸»é¢˜
- ä¸å“ç‰Œè‰²ç³»ä¿æŒä¸€è‡´

#### 3. ä½¿ç”¨è§„èŒƒ
```javascript
// âœ… æ¨èç”¨æ³•
<h1 style={getTextStyle('heading', 'light')}>æ ‡é¢˜</h1>

// âŒ é¿å…ç¡¬ç¼–ç 
<h1 style={{ color: '#333333' }}>æ ‡é¢˜</h1>
```

#### 4. ç»´æŠ¤è§„èŒƒ
- æ‰€æœ‰é¢œè‰²ä¿®æ”¹éƒ½é€šè¿‡é¢œè‰²ä½“ç³»è¿›è¡Œ
- å®šæœŸæ£€æŸ¥é¢œè‰²å¯¹æ¯”åº¦
- æµ‹è¯•æ·±è‰²/æµ…è‰²ä¸»é¢˜å…¼å®¹æ€§
- å»ºç«‹é¢œè‰²ä½¿ç”¨å®¡æŸ¥æµç¨‹

### è¿ç§»ç­–ç•¥

#### 1. æ¸è¿›å¼è¿ç§»
```javascript
// ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé¢œè‰²ä½“ç³»
// ç¬¬äºŒæ­¥ï¼šæ–°ç»„ä»¶ä½¿ç”¨é¢œè‰²ä½“ç³»
// ç¬¬ä¸‰æ­¥ï¼šé€æ­¥è¿ç§»ç°æœ‰ç»„ä»¶
// ç¬¬å››æ­¥ï¼šç§»é™¤ç¡¬ç¼–ç é¢œè‰²
```

#### 2. å…¼å®¹æ€§å¤„ç†
```javascript
// ä¿æŒå‘åå…¼å®¹
export function getTextStyle(type, theme, fallbackColor) {
  return {
    color: fallbackColor || getColor('text.primary', theme),
    // ...å…¶ä»–æ ·å¼
  };
}
```

### éªŒè¯æ¸…å•

- [ ] é¢œè‰²ä½“ç³»æ–‡ä»¶å·²åˆ›å»º
- [ ] æ‰€æœ‰é¢œè‰²éƒ½æœ‰è¯­ä¹‰åŒ–å‘½å
- [ ] æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜
- [ ] é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆWCAGæ ‡å‡†
- [ ] è¾…åŠ©å‡½æ•°å·²å®ç°
- [ ] ç»„ä»¶å·²è¿ç§»åˆ°é¢œè‰²ä½“ç³»
- [ ] ç¡¬ç¼–ç é¢œè‰²å·²æ¸…ç†
- [ ] å›¢é˜Ÿå·²åŸ¹è®­é¢œè‰²ä½“ç³»ä½¿ç”¨

### å¸¸è§é—®é¢˜

#### Q: å¦‚ä½•å¤„ç†ç‰¹æ®Šé¢œè‰²éœ€æ±‚ï¼Ÿ
A: åœ¨é¢œè‰²ä½“ç³»ä¸­æ·»åŠ æ–°çš„é¢œè‰²å®šä¹‰ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç ã€‚

#### Q: å¦‚ä½•ç¡®ä¿é¢œè‰²ä¸€è‡´æ€§ï¼Ÿ
A: ä½¿ç”¨è¾…åŠ©å‡½æ•°ï¼Œé¿å…ç›´æ¥ä½¿ç”¨é¢œè‰²å€¼ã€‚

#### Q: å¦‚ä½•æ”¯æŒä¸»é¢˜åˆ‡æ¢ï¼Ÿ
A: åœ¨é¢œè‰²ä½“ç³»å‡½æ•°ä¸­ä¼ å…¥ä¸»é¢˜å‚æ•°ã€‚

#### Q: å¦‚ä½•éªŒè¯é¢œè‰²å¯¹æ¯”åº¦ï¼Ÿ
A: ä½¿ç”¨åœ¨çº¿å·¥å…·æˆ–æµè§ˆå™¨æ’ä»¶æ£€æŸ¥å¯¹æ¯”åº¦ã€‚

## ğŸ“ ä»£ç è§„èŒƒ

### ç»Ÿä¸€å‘½åè§„èŒƒ

#### å…¨é¡¹ç›®ç»Ÿä¸€ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆsnake_caseï¼‰

**æ ¸å¿ƒåŸåˆ™**ï¼šæ•°æ®åº“ã€APIã€å‰ç«¯ç»Ÿä¸€ä½¿ç”¨ä¸‹åˆ’çº¿å‘½åï¼Œç¡®ä¿æ•´ä¸ªé¡¹ç›®çš„ä¸€è‡´æ€§ã€‚

**é€‚ç”¨èŒƒå›´**ï¼š
- âœ… æ•°æ®åº“è¡¨åå’Œå­—æ®µå
- âœ… APIè·¯ç”±å’Œå‚æ•°
- âœ… å‰ç«¯ç»„ä»¶propså’Œå˜é‡
- âœ… æ–‡ä»¶åå’Œç›®å½•å
- âœ… ç¯å¢ƒå˜é‡å

**å‘½åç¤ºä¾‹**ï¼š

**æ•°æ®åº“è®¾è®¡**ï¼š
```sql
-- è¡¨åä½¿ç”¨ä¸‹åˆ’çº¿
CREATE TABLE user_profiles (
  id INT PRIMARY KEY,
  user_id INT,
  first_name VARCHAR(50),
  last_name VARCHAR(50),
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

-- å­—æ®µåä½¿ç”¨ä¸‹åˆ’çº¿
CREATE TABLE tool_usage_logs (
  id INT PRIMARY KEY,
  user_id INT,
  tool_name VARCHAR(100),
  usage_count INT,
  last_used_at TIMESTAMP
);
```

**APIè·¯ç”±è®¾è®¡**ï¼š
```typescript
// APIè·¯ç”±ä½¿ç”¨ä¸‹åˆ’çº¿
GET    /api/user_profiles/:user_id
POST   /api/tool_usage_logs
PUT    /api/tool_usage_logs/:log_id
DELETE /api/tool_usage_logs/:log_id

// æŸ¥è¯¢å‚æ•°ä½¿ç”¨ä¸‹åˆ’çº¿
GET /api/tools?tool_name=pdf_converter&usage_count=10
```

**å‰ç«¯ç»„ä»¶å’Œå˜é‡**ï¼š
```typescript
// ç»„ä»¶propsä½¿ç”¨ä¸‹åˆ’çº¿
interface ToolCardProps {
  tool_name: string;
  usage_count: number;
  last_used_at: string;
  is_favorite: boolean;
}

// å˜é‡åä½¿ç”¨ä¸‹åˆ’çº¿
const user_profile = await getUserProfile(user_id);
const tool_usage_logs = await getToolUsageLogs();
const is_loading = false;
```

**æ–‡ä»¶åå’Œç›®å½•**ï¼š
```
components/
â”œâ”€â”€ tool_cards/
â”‚   â”œâ”€â”€ tool_card.tsx
â”‚   â””â”€â”€ tool_card_list.tsx
â”œâ”€â”€ user_profiles/
â”‚   â””â”€â”€ user_profile_modal.tsx
â””â”€â”€ api/
    â”œâ”€â”€ user_api.ts
    â””â”€â”€ tool_api.ts
```

**ç¯å¢ƒå˜é‡**ï¼š
```bash
# .env.local
DATABASE_URL=mysql://localhost:3306/my_project
API_BASE_URL=https://api.example.com
JWT_SECRET_KEY=your_secret_key
```

**Prisma Schemaç¤ºä¾‹**ï¼š
```prisma
model UserProfile {
  id         Int      @id @default(autoincrement())
  user_id    Int      @unique
  first_name String?
  last_name  String?
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  @@map("user_profiles")
}

model ToolUsageLog {
  id           Int      @id @default(autoincrement())
  user_id      Int
  tool_name    String
  usage_count  Int      @default(0)
  last_used_at DateTime @default(now())

  @@map("tool_usage_logs")
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… **ä¸€è‡´æ€§**ï¼šæ•´ä¸ªé¡¹ç›®ä½¿ç”¨ç»Ÿä¸€çš„å‘½åé£æ ¼
- âœ… **å¯è¯»æ€§**ï¼šä¸‹åˆ’çº¿åˆ†éš”æ›´æ¸…æ™°æ˜“è¯»
- âœ… **æ•°æ®åº“å‹å¥½**ï¼šå¤§å¤šæ•°æ•°æ®åº“é»˜è®¤æ”¯æŒä¸‹åˆ’çº¿
- âœ… **APIå‹å¥½**ï¼šRESTful APIé€šå¸¸ä½¿ç”¨ä¸‹åˆ’çº¿
- âœ… **å›¢é˜Ÿåä½œ**ï¼šå‡å°‘å‘½åé£æ ¼äº‰è®®

### TypeScriptè§„èŒƒ

#### 1. ç±»å‹å®šä¹‰
```typescript
// âœ… å¥½çš„å®è·µï¼šä½¿ç”¨interfaceå®šä¹‰å¯¹è±¡ç±»å‹
interface User {
  id: number
  name: string
  email: string
  createdAt: Date
}

// âœ… ä½¿ç”¨typeå®šä¹‰è”åˆç±»å‹
type UserRole = 'admin' | 'user' | 'guest'

// âœ… ä½¿ç”¨Enumå®šä¹‰å¸¸é‡
enum ToolStatus {
  ACTIVE = 'active',
  INACTIVE = 'inactive',
  DRAFT = 'draft'
}

// âŒ é¿å…ä½¿ç”¨any
const data: any = {} // ä¸å¥½

// âœ… ä½¿ç”¨unknownæˆ–å…·ä½“ç±»å‹
const data: unknown = {}
const userData: User = {}
```

#### 2. å‡½æ•°ç±»å‹
```typescript
// âœ… æ˜ç¡®å®šä¹‰å‚æ•°å’Œè¿”å›ç±»å‹
async function getUser(id: number): Promise<User | null> {
  // ...
}

// âœ… ä½¿ç”¨æ³›å‹æé«˜å¤ç”¨æ€§
function wrapResponse<T>(data: T): ApiResponse<T> {
  return {
    success: true,
    data,
    timestamp: Date.now()
  }
}
```

#### 3. ç»„ä»¶Props
```typescript
// âœ… ä½¿ç”¨interfaceå®šä¹‰Props
interface ToolCardProps {
  id: number
  name: string
  description: string
  icon?: string // å¯é€‰å±æ€§
  onClick?: () => void // å¯é€‰å›è°ƒ
  children?: React.ReactNode
}

// âœ… ä½¿ç”¨FCç±»å‹
const ToolCard: React.FC<ToolCardProps> = ({ 
  id, 
  name, 
  description,
  icon,
  onClick 
}) => {
  // ...
}
```

### Reactç»„ä»¶è§„èŒƒ

#### 1. ç»„ä»¶ç»“æ„
```typescript
'use client' // å®¢æˆ·ç«¯ç»„ä»¶æ ‡è®°ï¼ˆéœ€è¦æ—¶ï¼‰

import React, { useState, useEffect } from 'react'
import { useRouter } from 'next/navigation'

// 1. ç±»å‹å®šä¹‰
interface ComponentProps {
  // ...
}

// 2. ç»„ä»¶å®šä¹‰
export default function Component({ prop1, prop2 }: ComponentProps) {
  // 3. Hooks
  const router = useRouter()
  const [state, setState] = useState<Type>(initialValue)
  
  // 4. å‰¯ä½œç”¨
  useEffect(() => {
    // ...
  }, [dependencies])
  
  // 5. äº‹ä»¶å¤„ç†
  const handleClick = () => {
    // ...
  }
  
  // 6. æ¸²æŸ“é€»è¾‘
  if (loading) return <LoadingSpinner />
  if (error) return <ErrorMessage error={error} />
  
  // 7. ä¸»æ¸²æŸ“
  return (
    <div className="container">
      {/* ... */}
    </div>
  )
}
```

#### 2. å‘½åè§„èŒƒ
```typescript
// âœ… ç»„ä»¶åä½¿ç”¨PascalCase
const UserProfile = () => {}
const ToolCard = () => {}

// âœ… å‡½æ•°åä½¿ç”¨camelCase
const getUserData = () => {}
const handleSubmit = () => {}

// âœ… å¸¸é‡ä½¿ç”¨UPPER_SNAKE_CASE
const API_BASE_URL = 'https://api.example.com'
const MAX_RETRY_COUNT = 3

// âœ… å¸ƒå°”å€¼ä»¥is/has/canå¼€å¤´
const isLoading = true
const hasError = false
const canEdit = true

// âœ… äº‹ä»¶å¤„ç†å‡½æ•°ä»¥handleå¼€å¤´
const handleClick = () => {}
const handleSubmit = () => {}
const handleChange = () => {}
```

#### 3. æ–‡ä»¶å‘½å
```
ToolCard.tsx          // ç»„ä»¶æ–‡ä»¶ï¼ŒPascalCase
userService.ts        // æœåŠ¡æ–‡ä»¶ï¼ŒcamelCase
auth.ts               // å·¥å…·æ–‡ä»¶ï¼Œå°å†™
types.ts              // ç±»å‹å®šä¹‰
constants.ts          // å¸¸é‡å®šä¹‰
index.ts              // å¯¼å‡ºæ–‡ä»¶
```

### APIè·¯ç”±è§„èŒƒ

#### 1. ç»Ÿä¸€å‘½åè§„èŒƒï¼ˆsnake_caseï¼‰

**APIè·¯ç”±å’Œå‚æ•°ç»Ÿä¸€ä½¿ç”¨ä¸‹åˆ’çº¿**ï¼š
```typescript
// âœ… æ­£ç¡®ï¼šAPIè·¯ç”±ä½¿ç”¨ä¸‹åˆ’çº¿
GET    /api/user_profiles/:user_id
POST   /api/tool_usage_logs
PUT    /api/tool_usage_logs/:log_id
DELETE /api/tool_usage_logs/:log_id

// âœ… æ­£ç¡®ï¼šæŸ¥è¯¢å‚æ•°ä½¿ç”¨ä¸‹åˆ’çº¿
GET /api/tools?tool_name=pdf_converter&usage_count=10
GET /api/users?first_name=John&last_name=Doe

// âŒ é”™è¯¯ï¼šä½¿ç”¨é©¼å³°å‘½å
GET /api/userProfiles/:userId        // åº”è¯¥ä½¿ç”¨ user_profiles/:user_id
GET /api/tools?toolName=pdfConverter // åº”è¯¥ä½¿ç”¨ tool_name=pdf_converter
```

#### 2. æ–‡ä»¶ç»“æ„
```typescript
// app/api/tools/[id]/route.ts
import { NextRequest, NextResponse } from 'next/server'
import { authenticateRequest } from '@/lib/auth'
import { getPrismaClient } from '@/lib/db'

// GET /api/tools/:id
export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  try {
    // 1. è®¤è¯æ£€æŸ¥
    const auth = await authenticateRequest(request)
    if (!auth.success) {
      return NextResponse.json(
        { error: 'æœªæˆæƒ' },
        { status: 401 }
      )
    }
    
    // 2. å‚æ•°éªŒè¯
    const toolId = parseInt(params.id)
    if (isNaN(toolId)) {
      return NextResponse.json(
        { error: 'æ— æ•ˆçš„ID' },
        { status: 400 }
      )
    }
    
    // 3. ä¸šåŠ¡é€»è¾‘
    const prisma = await getPrismaClient()
    const tool = await prisma.tool.findUnique({
      where: { id: toolId }
    })
    
    if (!tool) {
      return NextResponse.json(
        { error: 'å·¥å…·ä¸å­˜åœ¨' },
        { status: 404 }
      )
    }
    
    // 4. è¿”å›ç»“æœ
    return NextResponse.json({
      success: true,
      data: tool
    })
    
  } catch (error: any) {
    // 5. é”™è¯¯å¤„ç†
    console.error('è·å–å·¥å…·å¤±è´¥:', error)
    return NextResponse.json(
      { error: 'æœåŠ¡å™¨é”™è¯¯', message: error.message },
      { status: 500 }
    )
  }
}

// POST /api/tools/:id
export async function POST(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  // ...
}
```

#### 2. é”™è¯¯å¤„ç†è§„èŒƒ
```typescript
// ç»Ÿä¸€é”™è¯¯å“åº”æ ¼å¼
interface ApiError {
  error: string         // é”™è¯¯ç®€è¿°
  message?: string      // è¯¦ç»†ä¿¡æ¯
  code?: string         // é”™è¯¯ä»£ç 
  details?: any         // é¢å¤–ä¿¡æ¯
}

// å¸¸ç”¨HTTPçŠ¶æ€ç 
200 // OK - æˆåŠŸ
201 // Created - åˆ›å»ºæˆåŠŸ
400 // Bad Request - å‚æ•°é”™è¯¯
401 // Unauthorized - æœªæˆæƒ
403 // Forbidden - ç¦æ­¢è®¿é—®
404 // Not Found - èµ„æºä¸å­˜åœ¨
409 // Conflict - å†²çª
500 // Internal Server Error - æœåŠ¡å™¨é”™è¯¯
```

### æ•°æ®åº“æ“ä½œè§„èŒƒ

#### 1. ç»Ÿä¸€å‘½åè§„èŒƒï¼ˆsnake_caseï¼‰

**æ•°æ®åº“è¡¨åå’Œå­—æ®µåç»Ÿä¸€ä½¿ç”¨ä¸‹åˆ’çº¿**ï¼š
```prisma
// âœ… æ­£ç¡®ï¼šä½¿ç”¨ä¸‹åˆ’çº¿å‘½å
model UserProfile {
  id         Int      @id @default(autoincrement())
  user_id    Int      @unique
  first_name String?
  last_name  String?
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  @@map("user_profiles")
}

model ToolUsageLog {
  id           Int      @id @default(autoincrement())
  user_id      Int
  tool_name    String
  usage_count  Int      @default(0)
  last_used_at DateTime @default(now())

  @@map("tool_usage_logs")
}

// âŒ é”™è¯¯ï¼šä½¿ç”¨é©¼å³°å‘½å
model UserProfile {
  userId      Int      // åº”è¯¥ä½¿ç”¨ user_id
  firstName   String?  // åº”è¯¥ä½¿ç”¨ first_name
  createdAt   DateTime // åº”è¯¥ä½¿ç”¨ created_at
}
```

#### 2. Prismaæœ€ä½³å®è·µ
```typescript
// âœ… ä½¿ç”¨å•ä¾‹æ¨¡å¼é¿å…è¿æ¥è¿‡å¤š
import { PrismaClient } from '@prisma/client'

let prisma: PrismaClient

export async function getPrismaClient() {
  if (!prisma) {
    prisma = new PrismaClient()
  }
  return prisma
}

// âœ… ä½¿ç”¨äº‹åŠ¡ä¿è¯æ•°æ®ä¸€è‡´æ€§
const result = await prisma.$transaction(async (tx) => {
  const user = await tx.user.create({ data: userData })
  const profile = await tx.profile.create({ 
    data: { userId: user.id, ...profileData } 
  })
  return { user, profile }
})

// âœ… ä½¿ç”¨selectå‡å°‘æ•°æ®ä¼ è¾“
const user = await prisma.user.findUnique({
  where: { id: 1 },
  select: {
    id: true,
    name: true,
    email: true
    // ä¸æŸ¥è¯¢ä¸éœ€è¦çš„å­—æ®µ
  }
})

// âŒ é¿å…N+1æŸ¥è¯¢é—®é¢˜
// ä¸å¥½ï¼š
const users = await prisma.user.findMany()
for (const user of users) {
  user.posts = await prisma.post.findMany({ 
    where: { userId: user.id } 
  })
}

// âœ… å¥½ï¼šä½¿ç”¨include
const users = await prisma.user.findMany({
  include: {
    posts: true
  }
})
```

#### 2. å®‰å…¨SQLå®è·µ
```typescript
// âœ… ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼ˆPrismaè‡ªåŠ¨å¤„ç†ï¼‰
const user = await prisma.user.findFirst({
  where: { email: userInput } // å®‰å…¨ï¼Œè‡ªåŠ¨è½¬ä¹‰
})

// âŒ é¿å…ç›´æ¥æ‹¼æ¥SQL
const result = await prisma.$queryRaw(`
  SELECT * FROM users WHERE email = '${userInput}'
`) // å±é™©ï¼SQLæ³¨å…¥é£é™©
```

## ğŸ¨ CSS/Tailwindè§„èŒƒ

### 1. Tailwindç±»åé¡ºåº
```tsx
// æ¨èé¡ºåºï¼šå¸ƒå±€ â†’ å°ºå¯¸ â†’ å¤–è§‚ â†’ æ–‡å­— â†’ äº¤äº’
<div className="
  flex items-center justify-between    // å¸ƒå±€
  w-full h-12 p-4 m-2                 // å°ºå¯¸å’Œé—´è·
  bg-white border border-gray-200     // èƒŒæ™¯å’Œè¾¹æ¡†
  rounded-lg shadow-md                // åœ†è§’å’Œé˜´å½±
  text-lg font-semibold text-gray-900 // æ–‡å­—æ ·å¼
  hover:bg-gray-50 transition-colors  // äº¤äº’æ•ˆæœ
">
```

### 2. å“åº”å¼è®¾è®¡
```tsx
<div className="
  w-full              // ç§»åŠ¨ç«¯é»˜è®¤
  md:w-1/2            // å¹³æ¿ï¼ˆ768px+ï¼‰
  lg:w-1/3            // æ¡Œé¢ï¼ˆ1024px+ï¼‰
  xl:w-1/4            // å¤§å±ï¼ˆ1280px+ï¼‰
">
```

### 3. è‡ªå®šä¹‰ç»„ä»¶æ ·å¼
```tsx
// components/Button.tsx
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'danger'
  size?: 'sm' | 'md' | 'lg'
  // ...
}

export const Button: React.FC<ButtonProps> = ({
  variant = 'primary',
  size = 'md',
  children,
  ...props
}) => {
  const baseClasses = 'rounded font-medium transition-colors'
  
  const variantClasses = {
    primary: 'bg-blue-600 text-white hover:bg-blue-700',
    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300',
    danger: 'bg-red-600 text-white hover:bg-red-700'
  }
  
  const sizeClasses = {
    sm: 'px-3 py-1 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg'
  }
  
  return (
    <button
      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]}`}
      {...props}
    >
      {children}
    </button>
  )
}
```

## ğŸ“„ Gitæäº¤è§„èŒƒ

### Commit Messageæ ¼å¼
```
<type>(<scope>): <subject>

<body>

<footer>
```

### Typeç±»å‹
```
feat:     æ–°åŠŸèƒ½
fix:      Bugä¿®å¤
docs:     æ–‡æ¡£æ›´æ–°
style:    ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
refactor: é‡æ„
perf:     æ€§èƒ½ä¼˜åŒ–
test:     æµ‹è¯•ç›¸å…³
chore:    æ„å»º/å·¥å…·é…ç½®
```

### ç¤ºä¾‹
```bash
feat(auth): æ·»åŠ JWTè®¤è¯åŠŸèƒ½

- å®ç°JWT tokenç”Ÿæˆå’ŒéªŒè¯
- æ·»åŠ ç™»å½•å’Œåˆ·æ–°tokenæ¥å£
- æ›´æ–°ç”¨æˆ·è®¤è¯ä¸­é—´ä»¶

Closes #123
```

## ğŸ® æ¸¸æˆå·¥å…·ç±»é¡¹ç›®æ¶æ„ï¼ˆåŸºäºCheckYourCPS.comï¼‰

### ç‰¹æ®Šé¡¹ç›®ç»“æ„
```
game-tools-project/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (test-groups)/          # æµ‹è¯•å·¥å…·è·¯ç”±ç»„
â”‚   â”‚   â”œâ”€â”€ click-test/         # ç‚¹å‡»æµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ click-1-second/ # 1ç§’æµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ click-5-seconds/# 5ç§’æµ‹è¯•
â”‚   â”‚   â”‚   â””â”€â”€ click-test/     # ä¸»æµ‹è¯•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ reaction-test/      # ååº”æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ aim-trainer/        # ç„å‡†è®­ç»ƒ
â”‚   â”‚   â””â”€â”€ jitter-test/        # Jitteræµ‹è¯•
â”‚   â”œâ”€â”€ about/                  # å…³äºé¡µé¢
â”‚   â”œâ”€â”€ contact/                # è”ç³»é¡µé¢
â”‚   â””â”€â”€ layout.tsx              # æ ¹å¸ƒå±€
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ TestComponents/         # æµ‹è¯•ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ClickTestComponent.tsx
â”‚   â”‚   â”œâ”€â”€ ReactionTestComponent.tsx
â”‚   â”‚   â”œâ”€â”€ AimTrainerComponent.tsx
â”‚   â”‚   â””â”€â”€ TestReportModal.tsx
â”‚   â”œâ”€â”€ UI/                     # UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â””â”€â”€ ProgressBar.tsx
â”‚   â””â”€â”€ Layout/                 # å¸ƒå±€ç»„ä»¶
â”‚       â”œâ”€â”€ Header.tsx
â”‚       â””â”€â”€ Footer.tsx
â””â”€â”€ lib/
    â”œâ”€â”€ testUtils.ts            # æµ‹è¯•å·¥å…·å‡½æ•°
    â”œâ”€â”€ localStorage.ts         # æœ¬åœ°å­˜å‚¨ç®¡ç†
    â””â”€â”€ analytics.ts            # åˆ†æå·¥å…·
```

### æ¸¸æˆå·¥å…·ç‰¹æ®Šé…ç½®

#### 1. çŠ¶æ€ç®¡ç†æ¨¡å¼
```typescript
// æµ‹è¯•çŠ¶æ€ç®¡ç†
interface TestState {
  isActive: boolean
  isPaused: boolean
  timeRemaining: number
  score: number
  attempts: number
  bestScore: number
}

// ä½¿ç”¨React Contextç®¡ç†å…¨å±€æµ‹è¯•çŠ¶æ€
const TestContext = createContext<{
  state: TestState
  actions: TestActions
}>({})

// æœ¬åœ°å­˜å‚¨ç®¡ç†
export const useTestStorage = (testType: string) => {
  const [bestScore, setBestScore] = useState(0)
  
  useEffect(() => {
    const saved = localStorage.getItem(`${testType}_best`)
    if (saved) setBestScore(parseInt(saved))
  }, [testType])
  
  const saveScore = (score: number) => {
    if (score > bestScore) {
      setBestScore(score)
      localStorage.setItem(`${testType}_best`, score.toString())
    }
  }
  
  return { bestScore, saveScore }
}
```

#### 2. åŠ¨ç”»å’Œäº¤äº’é…ç½®
```typescript
// Tailwindé…ç½®æ‰©å±•
module.exports = {
  theme: {
    extend: {
      colors: {
        'neon-cyan': '#00FFFF',
        'neon-green': '#00FF00',
        'neon-purple': '#8A2BE2',
        'dark-card': '#1a1a1a',
      },
      animation: {
        'pulse-neon': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
        'bounce-slow': 'bounce 2s infinite',
        'ping-slow': 'ping 3s cubic-bezier(0, 0, 0.2, 1) infinite',
      },
      keyframes: {
        'fade-in-up': {
          '0%': { opacity: '0', transform: 'translateY(10px)' },
          '100%': { opacity: '1', transform: 'translateY(0)' },
        }
      }
    },
  },
}
```

#### 3. æ€§èƒ½ä¼˜åŒ–é…ç½®
```typescript
// next.config.js æ¸¸æˆå·¥å…·ä¼˜åŒ–
const nextConfig = {
  // å›¾ç‰‡ä¼˜åŒ–
  images: {
    domains: ['localhost'],
    formats: ['image/webp', 'image/avif'],
  },
  
  // å®éªŒæ€§åŠŸèƒ½
  experimental: {
    optimizeCss: true,
    cpus: 1, // é™åˆ¶CPUä½¿ç”¨
  },
  
  // æ€§èƒ½ä¼˜åŒ–
  compress: true,
  poweredByHeader: false,
  
  // æ¸¸æˆå·¥å…·ç‰¹æ®Šé…ç½®
  webpack: (config, { isServer }) => {
    if (!isServer) {
      config.resolve.fallback = {
        ...config.resolve.fallback,
        fs: false,
      }
    }
    return config
  },
}
```

### æ¸¸æˆå·¥å…·ç»„ä»¶è§„èŒƒ

#### 1. æµ‹è¯•ç»„ä»¶ç»“æ„
```typescript
interface TestComponentProps {
  duration: number
  onComplete: (results: TestResults) => void
  onStart: () => void
  onPause: () => void
  instructions: string[]
  showProgress?: boolean
}

const TestComponent: React.FC<TestComponentProps> = ({
  duration,
  onComplete,
  onStart,
  onPause,
  instructions,
  showProgress = true
}) => {
  const [state, setState] = useState<TestState>({
    isActive: false,
    isPaused: false,
    timeRemaining: duration,
    score: 0,
    attempts: 0,
    bestScore: 0
  })
  
  // æµ‹è¯•é€»è¾‘
  const handleStart = () => {
    setState(prev => ({ ...prev, isActive: true }))
    onStart()
  }
  
  const handleComplete = () => {
    const results: TestResults = {
      score: state.score,
      duration: duration - state.timeRemaining,
      timestamp: Date.now()
    }
    onComplete(results)
  }
  
  return (
    <div className="test-container">
      {/* æµ‹è¯•ç•Œé¢ */}
    </div>
  )
}
```

#### 2. ç»“æœå±•ç¤ºç»„ä»¶
```typescript
interface TestResults {
  score: number
  duration: number
  timestamp: number
  rating?: 'beginner' | 'intermediate' | 'advanced' | 'expert'
}

const TestResultsModal: React.FC<{
  results: TestResults
  isOpen: boolean
  onClose: () => void
}> = ({ results, isOpen, onClose }) => {
  const getRating = (score: number): string => {
    if (score >= 10) return 'Expert'
    if (score >= 7) return 'Advanced'
    if (score >= 4) return 'Intermediate'
    return 'Beginner'
  }
  
  return (
    <Modal isOpen={isOpen} onClose={onClose}>
      <div className="text-center p-6">
        <h2 className="text-2xl font-bold text-neon-cyan mb-4">
          Test Complete!
        </h2>
        <div className="text-4xl font-bold text-white mb-2">
          {results.score}
        </div>
        <div className="text-neon-green mb-4">
          {getRating(results.score)}
        </div>
        <Button onClick={onClose}>
          Try Again
        </Button>
      </div>
    </Modal>
  )
}
```

### æ¸¸æˆå·¥å…·ç‰¹æ®ŠåŠŸèƒ½

#### 1. æœ¬åœ°å­˜å‚¨ç®¡ç†
```typescript
// lib/localStorage.ts
export class TestStorage {
  private static prefix = 'checkyourcps_'
  
  static saveResult(testType: string, result: TestResults) {
    const key = `${this.prefix}${testType}_results`
    const existing = this.getResults(testType)
    const updated = [...existing, result].sort((a, b) => b.score - a.score)
    
    localStorage.setItem(key, JSON.stringify(updated.slice(0, 10))) // ä¿å­˜å‰10å
  }
  
  static getResults(testType: string): TestResults[] {
    const key = `${this.prefix}${testType}_results`
    const data = localStorage.getItem(key)
    return data ? JSON.parse(data) : []
  }
  
  static getBestScore(testType: string): number {
    const results = this.getResults(testType)
    return results.length > 0 ? results[0].score : 0
  }
  
  static clearResults(testType?: string) {
    if (testType) {
      localStorage.removeItem(`${this.prefix}${testType}_results`)
    } else {
      // æ¸…é™¤æ‰€æœ‰æµ‹è¯•ç»“æœ
      Object.keys(localStorage)
        .filter(key => key.startsWith(this.prefix))
        .forEach(key => localStorage.removeItem(key))
    }
  }
}
```

#### 2. éŸ³æ•ˆç®¡ç†
```typescript
// lib/audio.ts
export class AudioManager {
  private static sounds: { [key: string]: HTMLAudioElement } = {}
  
  static loadSound(name: string, src: string) {
    if (!this.sounds[name]) {
      this.sounds[name] = new Audio(src)
    }
  }
  
  static playSound(name: string, volume = 0.5) {
    if (this.sounds[name]) {
      this.sounds[name].volume = volume
      this.sounds[name].play().catch(() => {
        // å¿½ç•¥éŸ³é¢‘æ’­æ”¾é”™è¯¯ï¼ˆç”¨æˆ·å¯èƒ½æ²¡æœ‰äº¤äº’ï¼‰
      })
    }
  }
  
  static preloadSounds() {
    this.loadSound('click', '/sounds/click.mp3')
    this.loadSound('success', '/sounds/success.mp3')
    this.loadSound('fail', '/sounds/fail.mp3')
  }
}

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
const TestComponent = () => {
  useEffect(() => {
    AudioManager.preloadSounds()
  }, [])
  
  const handleClick = () => {
    AudioManager.playSound('click', 0.3)
    // æµ‹è¯•é€»è¾‘
  }
}
```

#### 3. æ€§èƒ½ç›‘æ§
```typescript
// lib/performance.ts
export class PerformanceMonitor {
  static measureTestPerformance(testType: string, startTime: number, endTime: number) {
    const duration = endTime - startTime
    const performanceData = {
      testType,
      duration,
      timestamp: Date.now(),
      userAgent: navigator.userAgent
    }
    
    // å‘é€åˆ°åˆ†ææœåŠ¡ï¼ˆå¯é€‰ï¼‰
    if (process.env.NODE_ENV === 'production') {
      this.sendAnalytics(performanceData)
    }
    
    return performanceData
  }
  
  private static sendAnalytics(data: any) {
    // å‘é€åˆ°Google Analyticsæˆ–å…¶ä»–åˆ†ææœåŠ¡
    if (typeof gtag !== 'undefined') {
      gtag('event', 'test_completed', {
        test_type: data.testType,
        duration: data.duration
      })
    }
  }
}
```

## ğŸ” SEOé…ç½®ä¸ä¼˜åŒ–

### åŠ¨æ€Sitemap.xmlé…ç½®

**æ–‡ä»¶ä½ç½®**: `pages/sitemap.xml.js`

**æ ¸å¿ƒåŠŸèƒ½**:
- åŸºäºæ•°æ®æºè‡ªåŠ¨ç”Ÿæˆsitemap
- æ™ºèƒ½ä¼˜å…ˆçº§åˆ†é…
- URLæ ¼å¼ç»Ÿä¸€ï¼ˆç¡®ä¿å°¾éšæ–œæ ï¼‰
- ç¼“å­˜ä¼˜åŒ–ï¼ˆ1å¤©ç¼“å­˜ï¼‰

**é…ç½®ç¤ºä¾‹**:
```javascript
// pages/sitemap.xml.js
import { allScreens } from './screens'; // å¯¼å…¥é¡µé¢æ•°æ®

function generateSiteMap() {
  const baseUrl = 'https://yoursite.com';
  const currentDate = new Date().toISOString().split('T')[0];

  // é™æ€é¡µé¢
  const staticPages = [
    { url: '/', priority: '1.0' },
    { url: '/about/', priority: '0.7' },
    { url: '/contact/', priority: '0.7' }
  ];

  // åŠ¨æ€é¡µé¢ï¼ˆä»æ•°æ®æºç”Ÿæˆï¼‰
  const dynamicPages = allScreens.map(screen => ({
    url: screen.url, // ç¡®ä¿ä»¥"/"ç»“å°¾
    priority: screen.searchVolume > 50000 ? '0.9' : '0.7'
  }));

  // ç”ŸæˆXML
  const allPages = [...staticPages, ...dynamicPages];
  let sitemap = `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">`;

  allPages.forEach(page => {
    sitemap += `
  <url>
    <loc>${baseUrl}${page.url}</loc>
    <lastmod>${currentDate}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>${page.priority}</priority>
  </url>`;
  });

  return sitemap + '\n</urlset>';
}

export async function getServerSideProps({ res }) {
  const sitemap = generateSiteMap();
  res.setHeader('Content-Type', 'text/xml');
  res.setHeader('Cache-Control', 'public, s-maxage=86400');
  res.write(sitemap);
  res.end();
  return { props: {} };
}

export default function SiteMap() {}
```

**å…³é”®ä¼˜åŠ¿**:
- âœ… è‡ªåŠ¨ç»´æŠ¤ï¼šæ–°é¡µé¢è‡ªåŠ¨åŒ…å«
- âœ… æ•°æ®ä¸€è‡´ï¼šä¸æ•°æ®æºåŒæ­¥
- âœ… SEOå‹å¥½ï¼šæ ‡å‡†æ ¼å¼ï¼Œæ™ºèƒ½ä¼˜å…ˆçº§
- âœ… æ€§èƒ½ä¼˜åŒ–ï¼šç¼“å­˜æœºåˆ¶

### URLæ ¼å¼ç»Ÿä¸€è§„èŒƒ

**é‡è¦æ€§**: é¿å…Google Search Consoleä¸­çš„"ç½‘é¡µä¼šè‡ªåŠ¨é‡å®šå‘"é—®é¢˜

**è§„èŒƒ**:
```javascript
// âŒ é”™è¯¯ï¼šæ ¼å¼ä¸ä¸€è‡´
url: '/broken-screen'     // æ— å°¾éšæ–œæ 
url: '/broken-screen/'    // æœ‰å°¾éšæ–œæ 

// âœ… æ­£ç¡®ï¼šç»Ÿä¸€æ ¼å¼
url: '/broken-screen/'    // æ‰€æœ‰URLéƒ½ä½¿ç”¨å°¾éšæ–œæ 
```

**å®æ–½æ­¥éª¤**:
1. æ£€æŸ¥æ‰€æœ‰æ•°æ®æºä¸­çš„URLæ ¼å¼
2. ç»Ÿä¸€æ·»åŠ å°¾éšæ–œæ 
3. æ›´æ–°å†…éƒ¨é“¾æ¥
4. é…ç½®åŠ¨æ€sitemap

### robots.txté…ç½®

**æ–‡ä»¶ä½ç½®**: `public/robots.txt`

**æ ‡å‡†é…ç½®**:
```
User-agent: *
Allow: /
Disallow: /admin/
Disallow: /api/
Disallow: /_next/

Sitemap: https://yoursite.com/sitemap.xml
```

---

**æ›´æ–°æ—¥æœŸ**: 2025-01-16
**åŸºäºé¡¹ç›®**: youzikuaibao.com.cn + checkyourcps.com + whitescreen.show

